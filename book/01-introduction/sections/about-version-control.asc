=== Σχετικά με τον έλεγχο εκδόσεων

(((έλεγχος εκδόσεων)))
Τι είναι ο έλεγχος εκδόσεων και γιατί πρέπει να σας απασχολεί;
Ο __έλεγχος εκδόσεων__ είναι ένα σύστημα το οποίο καταγράφει αλλαγές σε ένα αρχείο ή σε ένα σύνολο αρχείων έτσι ώστε να μπορούμε να ανακαλέσουμε συγκεκριμένες εκδόσεις.
Στα παραδείγματα του βιβλίου, τα αρχεία που θα χρησιμοποιήσουμε για έλεγχο εκδόσεων θα είναι αρχεία πηγαίου κώδικα λογισμικού αν και στην πραγματικότητα, θα μπορούσαμε να χρησιμοποιήσουμε αρχεία οποιουδήποτε τύπου.

Αν είστε γραφίστας ή σχεδιαστής ιστοσελίδων και θέλετε να κρατήσετε κάθε έκδοση μιας εικόνας ή μιας διάταξης (κάτι το οποίο είναι πολύ πιθανό) τότε ένα Σύστημα Ελέγχου Εκδόσεων (Version Control System -- VCS) είναι μια πολύ σοφή επιλογή. Ένα τέτοιο σύστημα  μας επιτρέπει να επαναφέρουμε συγκεκριμένα αρχεία σε κάποια προγενέστερη κατάσταση, να επαναφέρουμε ακόμα και ολόκληρο έργο (project) σε προγενέστερη κατάσταση, να συγκρίνουμε αλλαγές με την πάροδο του χρόνου, να δούμε ποιος τροποποίησε τελευταίος κάτι που ενδεχομένως δημιουργεί κάποιο πρόβλημα, ποιος έθεσε ένα ζήτημα και άλλα πολλά. Η χρήση ενός συστήματος ελέγχου εκδόσεων σημαίνει επίσης ότι αν τα κάνουμε θάλασσα ή χάσουμε αρχεία, είναι εύκολο να τα ανακτήσουμε. Επιπλέον, όλες αυτές οι δυνατότητες προσφέρονται με πολύ μικρή επιβάρυνση.

==== Τοπικά συστήματα ελέγχου εκδόσεων

(((έλεγχος εκδόσεων, τοπικός)))
Ή μέθοδος που επιλέγουν πολλοί για έλεγχο εκδόσεων αρχείων είναι να αντιγράφουν τα αρχεία σε ένα άλλο κατάλογο (πιθανότατα ένα χρονολογημένο κατάλογο αν είναι έξυπνοι).
Αυτή η προσέγγιση είναι πολύ κοινή επειδή είναι τόσο απλή, συγχρόνως όμως είναι και πολύ επιρρεπής σε λάθη.
Είναι εύκολο να ξεχάσει κανείς σε ποιον κατάλογο βρίσκεται και να γράψει στο λάθος αρχείο ή να αντιγράψει σε αρχεία που δεν ήθελε.

Για να μεταχειριστούν το συγκεκριμένο ζήτημα οι προγραμματιστές ανέπτυξαν από παλιά τοπικά συστήματα ελέγχου εκδόσεων. Τα συστήματα αυτά διέθεταν μια απλή βάση δεδομένων που κρατούσε όλες τις αλλαγές στα αρχεία σε έλεγχο εκδόσεων.

.Διάγραμμα τοπικού ελέγχου εκδόσεων
image::images/local.png[Διάγραμμα τοπικού ελέγχου εκδόσεων]

Ένα από τα πιο δημοφιλή συστήματα ελέγχου εκδόσεων ήταν το σύστημα RCS το οποίο διανέμεται ακόμα σε πολλούς υπολογιστές. Ακόμα και το δημοφιλές λειτουργικό Mac OS X περιλαμβάνει την εντολή `rcs` όταν εγκαθίστανται τα Developer Tools.
Το RCS δουλεύει χρησιμοποιώντας συλλογές από επιδιορθώσεις λογισμικού (patches, ή διαφορές μεταξύ αρχείων) σε μια συγκεκριμένη μορφή στον δίσκο. Έπειτα, μπορεί να ξαναδημιουργήσει κάθε αρχείο όπως ήταν σε οποιοδήποτε χρονικό σημείο προσθέτοντας όλα τις επιδιορθώσεις λογισμικού.

==== Συγκεντρωτικά συστήματα ελέγχου εκδόσεων

(((έλεγχος εκδόσεων, συγκεντρωτικός)))
Το επόμενο σημαντικό ζήτημα που αντιμετώπισαν οι προγραμματιστές ήταν η ανάγκη για συνεργασία με προγραμματιστές σε άλλα συστήματα. Για να ασχοληθούν με το συγκεκριμένο πρόβλημα, αναπτύχθηκαν τα συγκεντρωτικά συστήματα ελέγχου εκδόσεων (Centralized Version Control Systems, CVCS). Τα συστήματα αυτά, όπως τo CVS, το Subversion και το Perforce έχουν έναν διακομιστή (server) ο οποίος περιέχει όλα τα αρχεία και έναν αριθμό από πελάτες (clients) οι οποίοι ενημερώνουν τα αρχεία τους από αυτό το κεντρικό μέρος. (((CVS)))(((Subversion)))(((Perforce)))
Για πολλά χρόνια, αυτή η μέθοδος ήταν το πρότυπο για τα συστήματα ελέγχου εκδόσεων.

.Συγκεντρωτικός έλεγχος εκδόσεων
image::images/centralized.png[Συγκεντρωτικός έλεγχος εκδόσεων.]

Η εγκατάσταση αυτή προσφέρει πολλά πλεονεκτήματα, ειδικά σε σχέση με τα τοπικά συστήματα ελέγχου εκδόσεων.
Για παράδειγμα, όλοι γνωρίζουν σε ένα βαθμό με τι ασχολούνται οι υπόλοιποι σε ένα έργο.
Οι διαχειριστές έχουν έλεγχο πάνω στο τι μπορεί και επιτρέπεται να κάνει ο καθένας. Επίσης, είναι πιο εύκολο να διαχειριστεί κανείς ένα συγκεντρωτικό σύστημα ελέγχου εκδόσεων από το να διαχειρίζεται τοπικές βάσεις δεδομένων σε κάθε πελάτη.

Παρ' όλα αυτά, η συγκεκριμένη εγκατάσταση έχει κάποια σημαντικά μειονεκτήματα.
Το πιο προφανές είναι το γεγονός ότι μια βλάβη στον κεντρικό διακομιστή προκαλεί την αποτυχία όλου του συστήματος.
Αν ο διακομιστής πέσει για μία ώρα, τότε κατά τη διάρκεια αυτής της ώρας κανείς δεν μπορεί να συνεργαστεί ή να αποθηκεύσει αλλαγές στο σύστημα ελέγχου εκδόσεων.
Αν για παράδειγμα ο σκληρός δίσκος πάνω στον οποίο βρίσκεται η κεντρική βάση δεδομένων καταστραφεί και δεν έχουν κρατηθεί τα απαραίτητα αντίγραφα ασφαλείας τότε χάνονται τα πάντα. Ολόκληρο το ιστορικό του έργου χάνεται εκτός από στιγμιότυπα του έργου που μπορεί να έχουν κρατήσει στους υπολογιστές τους κάποιοι προγραμματιστές.
Τα τοπικά συστήματα ελέγχου εκδόσεων πάσχουν από το ίδιο πρόβλημα -- όταν το ιστορικό ενός έργου βρίσκεται σε ένα και μοναδικό μέρος τότε υπάρχει ο κίνδυνος να χαθούν τα πάντα.

==== Κατανεμημένα συστήματα ελέγχου εκδόσεων

(((έλεγχος εκδόσεων, κατανεμημένος)))
Στο σημείο αυτό έρχονται τα κατανεμημένα συστήματα ελέγχου εκδόσεων.
Σε ένα κατανεμημένο σύστημα (όπως το Git, το Mercurial, το Bazaar ή το Darcs) οι πελάτες δεν ενημερώνουν μόνο το τελευταίο στιγμιότυπο των αρχείων τους: αναπαράγουν εξ ολοκλήρου το αποθετήριο.
Συνεπώς, στην περίπτωση που ο διακομιστής πέσει, τα τοπικά αποθετήρια που έχουν οι πελάτες μπορούν να χρησιμοποιηθούν ώστε να τον επαναφέρουν.
Κάθε κλώνος είναι ένα πλήρες αντίγραφο όλων των δεδομένων.

.Κατανεμημένος έλεγχος εκδόσεων.
image::images/distributed.png[Διάγραμμα κατανεμημένου ελέγχου εκδόσεων.]

Επιπλέον, πολλά από αυτά τα συστήματα περιλαμβάνουν πολλά απομακρυσμένα αποθετήρια έτσι ώστε να είναι δυνατή η συνεργασία με διαφορετικές ομάδες ανθρώπων και με διαφορετικούς τρόπους ταυτόχρονα στο ίδιο έργο.
Το γεγονός επιτρέπει στους χρήστες ενός κατανεμημένου συστήματος ελέγχου εκδόσεων να δημιουργούν διάφoρους τύπους ροής εργασιών (π.χ. ιεραρχικά μοντέλα) κάτι το οποίο δεν είναι δυνατό σε συγκεντρωτικά συστήματα.
